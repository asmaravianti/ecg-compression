<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECG Compression Benchmark</title>
    <link rel="stylesheet" href="styles.css">
    <script src="validation.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <a href="#" class="brand">ECG Benchmark</a>
        <div class="nav-links">
            <a href="#home">Home</a>
            <a href="#data">Data</a>
            <a href="#evaluation">Evaluation</a>
            <a href="#leaderboard">Leaderboard</a>
            <a href="#submissions" class="auth-required-link">My Submissions</a>
            <a href="#forum">Forum</a>
            <a href="#terms">Terms</a>
            <a href="#login" class="btn btn-primary" id="authButton">Login</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>ECG Compression Challenge</h1>
            <p>Optimize signal compression algorithms for cardiac data analysis</p>
            <div class="cta-buttons">
                <a href="#submit" class="btn btn-primary" id="getStartedBtn">Get Started</a>
                <a href="#evaluation" class="btn btn-secondary">Learn More</a>
            </div>
        </div>
        <div class="hero-graphic">
            <svg viewBox="0 0 600 200" class="ecg-animation">
                <polyline class="ecg-line" points="0,100 30,100 45,100 50,100 55,80 60,120 65,100 70,100 80,100 100,100 110,100 115,100 120,60 125,140 130,100 135,100 150,100 200,100 210,100 215,100 220,80 225,120 230,100 235,100 250,100 300,100 310,100 315,100 320,60 325,140 330,100 335,100 350,100 400,100 410,100 415,100 420,80 425,120 430,100 435,100 450,100 500,100 510,100 515,100 520,60 525,140 530,100 535,100 550,100 600,100" />
            </svg>
        </div>
    </section>

    <!-- Metrics Preview -->
    <section class="content-section">
        <h2>Performance Metrics</h2>
        <div class="metrics-grid">
            <div class="metric-card">
                <h3>Top Compression Ratio</h3>
                <div class="metric-value">48.2:1</div>
                <p class="metric-team">Team SignalPro</p>
            </div>
            <div class="metric-card">
                <h3>Best PRD</h3>
                <div class="metric-value">2.1%</div>
                <p class="metric-team">Team CardioTech</p>
            </div>
        </div>
    </section>

    <hr>

    <!-- Data Section -->
    <section class="content-section" id="data">
        <h2>Dataset Information</h2>
        <div class="file-card">
            <h3>PhysioNet MIT-BIH Database</h3>
            <p>Format: MATLAB .mat files</p>
            <p>Sampling Frequency: 360 Hz</p>
            <div class="download-buttons">
                <a href="files/PhysioNet_MITBIH_rec117_5min.mat" class="btn btn-primary" download>Download Sample</a>
            </div>
        </div>
    </section>
    <hr>
    
    <!-- Evaluation Section -->
    <section class="content-section" id="evaluation">
        <h2>Evaluation</h2>

        <div class="evaluation-intro">
            <div class="eval-icon">üìä</div>
            <p>
                Your algorithm will be scored on its ability to <strong>compress ECG signals efficiently</strong> 
                while <strong>preserving essential diagnostic information</strong>. The perfect balance 
                between size reduction and signal fidelity will top our leaderboard!
            </p>
        </div>

        <div class="metrics-container">
            <!-- 1. Compression Ratio (CR) -->
            <div class="metric-block">
                <div class="metric-header">
                    <div class="metric-icon">üìâ</div>
                    <h3>Compression Ratio (CR)</h3>
                </div>
                <div class="metric-content">
                    <div class="metric-definition">
                        <h4>What it measures:</h4>
                        <p>The ratio of the original signal length to the compressed signal length.</p>
                    </div>
                    <div class="formula-block">
                        <h4>Formula:</h4>
                        <div class="formula-display">
                            CR = <div class="fraction"><span class="numerator">Original Signal Length</span><span class="denominator">Compressed Signal Length</span></div>
                        </div>
                    </div>
                    <div class="metric-goal">
                        <span class="goal-icon">üéØ</span>
                        <p><strong>Goal:</strong> Higher CR values indicate better compression efficiency.</p>
                    </div>
                    <div class="metric-example">
                        <p>Example: A 100MB signal compressed to 2MB yields CR = 50:1</p>
                    </div>
                </div>
            </div>

            <!-- 2. Percentage Root Mean Square Difference (PRD) -->
            <div class="metric-block">
                <div class="metric-header">
                    <div class="metric-icon">üîç</div>
                    <h3>Percentage Root Mean Square Difference (PRD)</h3>
                </div>
                <div class="metric-content">
                    <div class="metric-definition">
                        <h4>What it measures:</h4>
                        <p>The error percentage between the reconstructed signal and the original signal, normalized by the signal's variability.</p>
                    </div>
                    <div class="formula-block">
                        <h4>Formula:</h4>
                        <div class="formula-display">
                            PRD = <div class="fraction">
                                <span class="numerator">‚àö(Œ£(f·µ¢ - fÃÇ·µ¢)¬≤)</span>
                                <span class="denominator">‚àö(Œ£(f·µ¢ - fÃÑ)¬≤)</span>
                            </div> √ó 100
                        </div>
                        <ul class="formula-variables">
                            <li><code>f·µ¢</code>: Original signal value at point <em>i</em>.</li>
                            <li><code>fÃÇ·µ¢</code>: Reconstructed signal value at point <em>i</em>.</li>
                            <li><code>fÃÑ</code>: Mean value of the original signal.</li>
                            <li><code>N</code>: Total number of data points.</li>
                        </ul>
                    </div>
                    <div class="metric-goal">
                        <span class="goal-icon">üéØ</span>
                        <p><strong>Goal:</strong> Lower PRD values indicate better reconstruction quality.</p>
                    </div>
                    <div class="metric-example">
                        <p>Example: PRD of 2% means excellent reconstruction with minimal distortion</p>
                    </div>
                </div>
            </div>

            <!-- 3. Overall Score -->
            <div class="metric-block highlight">
                <div class="metric-header">
                    <div class="metric-icon">üèÜ</div>
                    <h3>Overall Score</h3>
                </div>
                <div class="metric-content">
                    <div class="metric-definition">
                        <h4>What it measures:</h4>
                        <p>A combined score that balances compression efficiency and reconstruction accuracy.</p>
                    </div>
                    <div class="formula-block">
                        <h4>Formula:</h4>
                        <div class="formula-display">
                            Score = <div class="fraction">
                                <span class="numerator">CR</span>
                                <span class="denominator">PRD + Œµ</span>
                            </div>
                        </div>
                        <p class="formula-note">where <em>Œµ</em> is a small constant (e.g., 1√ó10<sup>-6</sup>) to avoid division by zero.</p>
                    </div>
                    <div class="metric-goal">
                        <span class="goal-icon">üèÜ</span>
                        <p><strong>Goal:</strong> Higher scores indicate better overall performance.</p>
                    </div>
                    <div class="metric-example">
                        <p>The score rewards algorithms that achieve high compression while maintaining signal accuracy</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4. Evaluation Process -->
        <div class="process-block">
            <h3>Evaluation Process</h3>
            <div class="process-steps">
                <div class="process-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>Input Data</h4>
                        <p>
                            You'll receive ECG signals in <code>.mat</code> format from the PhysioNet MIT-BIH database.
                            Try the sample first to test your algorithm.
                        </p>
                    </div>
                </div>

                <div class="process-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>Output Requirements</h4>
                        <p>
                            Submit your compressed signal and reconstructed signal in <code>.mat</code> format, 
                            along with your calculated compression ratio.
                        </p>
                        <ul class="output-requirements">
                            <li><code>f_recon</code>: The reconstructed ECG signal</li>
                            <li><code>CR_val</code>: Your calculated compression ratio</li>
                        </ul>
                    </div>
                </div>

                <div class="process-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>Scoring</h4>
                        <p>
                            Our system computes the CR and PRD metrics from your submission
                            and calculates your overall score.
                        </p>
                    </div>
                </div>

                <div class="process-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h4>Leaderboard</h4>
                        <p>
                            Results are ranked on the leaderboard based on the Overall Score.
                            Detailed metrics are provided for each submission.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <hr>

    <!-- Leaderboard -->
    <section class="content-section" id="leaderboard">
        <h2>Current Rankings</h2>
        <table class="leaderboard-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Team</th>
                    <th>CR</th>
                    <th>PRD</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>SignalPros</td>
                    <td>48.2</td>
                    <td>0.0021</td>
                    <td>94.5</td>
                </tr>
                <!-- More rows -->
            </tbody>
        </table>
    </section>

    <!-- Login Message for Submission -->
    <section class="content-section" id="submit-login-message">
        <h2>Submit Your Algorithm</h2>
        <div class="login-message">
            <p>Please log in to submit your algorithm to the competition.</p>
            <button class="btn btn-primary" id="loginToSubmitBtn">Login to Submit</button>
        </div>
    </section>

    <!-- Algorithm Submission Section (Only visible after login) -->
    <section class="content-section auth-required" id="submit" style="display: none;">
        <h2>Submit Your Algorithm</h2>
        <p class="section-description">To participate in the competition, please provide information about your team, your algorithm, and upload your paper and implementation files.</p>
        
        <!-- Team Information Section -->
        <div class="submission-section">
            <h3>Team Information</h3>
            <div class="team-info-display">
                <p>Current Team: <span id="currentTeamDisplay">Not Set</span></p>
                <button id="changeTeamBtn" class="btn btn-secondary">Change Team Name</button>
            </div>
            <form id="teamForm" class="submission-form" style="display: none;">
                <div class="form-group">
                    <label for="teamName">Team Name</label>
                    <input type="text" id="teamName" required>
                    <small class="form-hint">3-30 characters, letters, numbers and spaces only</small>
                </div>
                <button type="submit" class="btn btn-primary">Save Team Name</button>
            </form>
        </div>
        
        <!-- Algorithm Submission Form -->
        <form id="algorithmSubmissionForm" class="submission-form">
            <div class="form-group">
                <label for="algorithmName">Algorithm Name</label>
                <input type="text" id="algorithmName" required>
                <small class="form-hint">3-50 characters, letters, numbers and spaces only</small>
            </div>
            
            <div class="form-group">
                <label for="paperSubmissionType">Paper Submission</label>
                <select id="paperSubmissionType" required>
                    <option value="">-- Select Submission Type --</option>
                    <option value="file">Upload Paper File</option>
                    <option value="link">Provide Paper Link</option>
                </select>
            </div>
            
            <div class="form-group" id="paperFileGroup" style="display: none;">
                <label for="paperFile">Paper File (PDF)</label>
                <div class="file-upload">
                    <i>üìÑ</i>
                    <p>Click to upload PDF file</p>
                    <small>or drag and drop your paper here</small>
                    <input type="file" id="paperFile" accept=".pdf">
                </div>
                <small class="form-hint">Upload your research paper, thesis, or journal article as PDF (max 10MB)</small>
            </div>
            
            <div class="form-group" id="paperLinkGroup" style="display: none;">
                <label for="paperLink">Paper Link</label>
                <input type="url" id="paperLink" placeholder="https://example.com/your-paper">
                <small class="form-hint">Provide a link to your published paper, thesis, or journal article</small>
            </div>
            
            <div class="form-group">
                <label for="algorithmDescription">Algorithm Description</label>
                <textarea id="algorithmDescription" rows="4" required></textarea>
                <small class="form-hint">Briefly describe your algorithm and its advantages (max 500 characters)</small>
            </div>

            <div class="form-group">
                <label for="compressedFile">Algorithm Implementation (.zip)</label>
                <div class="file-upload">
                    <i>üì¶</i>
                    <p>Click to upload ZIP file</p>
                    <small>or drag and drop your implementation here</small>
                    <input type="file" id="compressedFile" accept=".zip" required>
                </div>
                <small class="form-hint">Upload your algorithm implementation as a ZIP file containing all necessary code and documentation</small>
            </div>

            <button type="submit" class="btn btn-primary">Submit Entry</button>
        </form>
    </section>

    <!-- My Submissions (Only visible after login) -->
    <section class="content-section auth-required" id="submissions" style="display: none;">
        <h2>My Submissions</h2>
        <div class="team-progress">
            <h3>Current Team: <span id="currentTeam">Not Set</span></h3>
            <div class="metrics-grid">
                <div class="metric-card">
                    <h3>Highest Score</h3>
                    <div class="metric-value" id="highScore">0</div>
                    <p class="metric-team">Current Team</p>
                </div>
                <div class="metric-card">
                    <h3>Total Submissions</h3>
                    <div class="metric-value" id="totalSubmissions">0</div>
                    <p class="metric-team">Current Team</p>
                </div>
            </div>
        </div>
        <div class="submission-history" id="submissionHistory">
            <!-- Submission history will be populated here -->
        </div>
    </section>
    <hr>

    <!-- Forum Section - Hidden for now -->
    <section class="content-section" id="forum" style="display: none;">
        <h2>Discussion Forum</h2>
        <div class="forum-container" id="forumContainer">
            <div class="forum-post">
                <h3>Dataset Format Clarification</h3>
                <p>Posted by: User123 | 2 hours ago</p>
                <p>Can someone clarify the expected format for the reconstructed signals?</p>
                <button class="btn btn-primary">Reply</button>
            </div>
            <div class="forum-post">
                <h3>Evaluation Metrics</h3>
                <p>Posted by: Admin | 1 day ago</p>
                <p>Please ensure your submissions meet the evaluation criteria.</p>
                <button class="btn btn-primary">Reply</button>
            </div>
        </div>
    </section>
    <hr>

    <!-- Terms Section -->
    <section class="content-section" id="terms">
        <h2>Terms and Conditions</h2>
        <div class="terms-section">
            <p>By participating in this benchmark, you agree to the following terms:</p>
            <ul>
                <li>Submissions must be original work</li>
                <li>Participants must submit both their algorithm implementation and a research paper</li>
                <li>The organizers reserve the right to disqualify any submission that violates the rules</li>
                <li>Participants must maintain the integrity of the competition</li>
                <li>All submissions will be evaluated based on the specified metrics</li>
            </ul>
        </div>
    </section>

    <script src="scripts.js"></script>
</body>

<div id="authModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <div class="tabs">
            <div class="tab-header">
                <div class="active" id="loginTab">Login</div>
                <div id="registerTab">Register</div>
            </div>
            <div class="tab-content">
                <div class="tab-body active" id="loginContent">
                    <form id="loginForm" class="auth-form">
                        <div class="form-group">
                            <label for="loginEmail">Email</label>
                            <input type="email" id="loginEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Login</button>
                    </form>
                </div>
                <div class="tab-body" id="registerContent">
                    <form id="registerForm" class="auth-form">
                        <div class="form-group">
                            <label for="registerTeamName">Team Name</label>
                            <input type="text" id="registerTeamName" required>
                        </div>
                        <div class="form-group">
                            <label for="registerEmail">Email</label>
                            <input type="email" id="registerEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="registerPassword">Password</label>
                            <input type="password" id="registerPassword" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Confirm Password</label>
                            <input type="password" id="confirmPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Register</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</html>