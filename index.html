<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECG Compression Benchmark</title>
    <link rel="stylesheet" href="styles.css">
    <script src="validation.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <a href="#" class="brand">ECG Benchmark</a>
        <div class="nav-links">
            <a href="#home">Home</a>
            <a href="#data">Data</a>
            <a href="#evaluation">Evaluation</a>
            <a href="#leaderboard">Leaderboard</a>
            <a href="#submissions" class="auth-required-link">My Submissions</a>
            <a href="#forum">Forum</a>
            <a href="#terms">Terms</a>
            <a href="#login" class="btn btn-primary" id="authButton">Login</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <h1>ECG Compression Challenge</h1>
        <p>Optimize signal compression algorithms for cardiac data analysis</p>
        <div class="cta-buttons">
            <a href="#submit" class="btn btn-primary" id="getStartedBtn">Get Started</a>
            <a href="#evaluation" class="btn btn-secondary">Learn More</a>
        </div>
    </section>

    <!-- Metrics Preview -->
    <section class="content-section">
        <h2>Performance Metrics</h2>
        <div class="metrics-grid">
            <div class="metric-card">
                <h3>Top Compression Ratio</h3>
                <div class="metric-value">48.2:1</div>
                <p class="metric-team">Team SignalPro</p>
            </div>
            <div class="metric-card">
                <h3>Best PRD</h3>
                <div class="metric-value">2.1%</div>
                <p class="metric-team">Team CardioTech</p>
            </div>
        </div>
    </section>

    <hr>

    <!-- Data Section -->
    <section class="content-section" id="data">
        <h2>Dataset Information</h2>
        <div class="file-card">
            <h3>PhysioNet MIT-BIH Database</h3>
            <p>Format: MATLAB .mat files</p>
            <p>Sampling Frequency: 360 Hz</p>
            <div class="download-buttons">
                <a href="files/PhysioNet_MITBIH_rec117_5min.mat" class="btn btn-primary" download>Download Sample</a>
                <a href="files/PhysioNet_MITBIH_rec117_5min.mat" class="btn btn-secondary" download>Download Dataset (1.2GB)</a>
            </div>
        </div>
    </section>
    <hr>
    
    <!-- Evaluation Section -->
    <section class="content-section" id="evaluation">
        <h2>Evaluation</h2>

        <p>
            The performance of each submission is evaluated based on the following metrics.
            Higher compression ratio (CR) is better for storage/transmission efficiency,
            while lower percentage root mean square difference (PRD) indicates more accurate
            signal reconstruction. Finally, an overall score balances both factors.
        </p>

        <!-- 1. Compression Ratio (CR) -->
        <div class="metric-block">
            <h3>1. Compression Ratio (CR)</h3>
            <p>
                <strong>Definition:</strong> The ratio of the original signal length to the compressed signal length.
            </p>
            <p>
                <strong>Formula:</strong><br>
                <div class="formula-block"><code>CR = (Original Signal Length) / (Compressed Signal Length)</code></div>
            </p>
            <p>
                <strong>Goal:</strong> Higher CR values indicate better compression efficiency.
            </p>
        </div>

        <!-- 2. Percentage Root Mean Square Difference (PRD) -->
        <div class="metric-block">
            <h3>2. Percentage Root Mean Square Difference (PRD)</h3>
            <p>
                <strong>Definition:</strong> The error percentage between the reconstructed signal and
                the original signal, normalized by the signal's variability.
            </p>
            <p>
                <strong>Formula:</strong><br>
                <div class="formula-block">
                    <code>
                        PRD =
                        [ sqrt( Σ ( fᵢ - f̂ᵢ )² ) / sqrt( Σ ( fᵢ - f̄ )² ) ] × 100
                    </code>
                </div>
            </p>
            <ul>
                <li><code>fᵢ</code>: Original signal value at point <em>i</em>.</li>
                <li><code>f̂ᵢ</code>: Reconstructed signal value at point <em>i</em>.</li>
                <li><code>f̄</code>: Mean value of the original signal.</li>
                <li><code>N</code>: Total number of data points.</li>
            </ul>
            <p>
                <strong>Goal:</strong> Lower PRD values indicate better reconstruction quality.
            </p>
        </div>

        <!-- 3. Overall Score -->
        <div class="metric-block">
            <h3>3. Overall Score</h3>
            <p>
                <strong>Definition:</strong> A combined score that balances compression efficiency and
                reconstruction accuracy.
            </p>
            <p>
                <strong>Formula:</strong><br>
                <div class="formula-block"><code>Score = CR / (PRD + ε)</code></div>
                <br>
                where <em>ε</em> is a small constant (e.g., 1×10<sup>-6</sup>) to avoid division by zero.
            </p>
            <p>
                <strong>Goal:</strong> Higher scores indicate better overall performance.
            </p>
        </div>

        <!-- 4. Evaluation Process -->
        <div class="process-block">
            <h3>4. Evaluation Process</h3>

            <!-- Step 1: Input Data -->
            <div class="process-step">
                <h4>Step 1: Input Data</h4>
                <p>
                    Participants are provided with ECG signals in <code>.mat</code> format (e.g.,
                    <em>PhysioNet_MITBIH_rec117_5min.mat</em>). Each file contains a single ECG recording.
                </p>
            </div>

            <!-- Step 2: Output Requirements -->
            <div class="process-step">
                <h4>Step 2: Output Requirements</h4>
                <p>
                    Participants must submit a compressed signal and a reconstructed signal.
                    The output files must be in <code>.mat</code> format and include:
                </p>
                <ul>
                    <li><code>f_recon</code>: The reconstructed ECG signal.</li>
                    <li><code>CR_val</code>: The compression ratio.</li>
                </ul>
            </div>

            <!-- Step 3: Scoring -->
            <div class="process-step">
                <h4>Step 3: Scoring</h4>
                <p>
                    The scoring program computes the CR and PRD for each submission.
                    The Overall Score is calculated as:
                </p>
                <div class="formula-block">
                    <code>Score = CR / (PRD + ε)</code>
                </div>
                <p>
                    The final score is the average score across all datasets.
                </p>
            </div>


            <!-- Step 4: Leaderboard -->
            <div class="process-step">
                <h4>Step 4: Leaderboard</h4>
                <p>
                    Submissions are ranked based on the Overall Score.
                    Detailed results (including CR and PRD) are displayed for each dataset.
                </p>
            </div>
        </div>
    </section>
    <hr>

    <!-- Leaderboard -->
    <section class="content-section" id="leaderboard">
        <h2>Current Rankings</h2>
        <table class="leaderboard-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Team</th>
                    <th>CR</th>
                    <th>PRD</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>SignalPros</td>
                    <td>48.2</td>
                    <td>0.0021</td>
                    <td>94.5</td>
                </tr>
                <!-- More rows -->
            </tbody>
        </table>
    </section>

    <!-- Login Message for Submission -->
    <section class="content-section" id="submit-login-message">
        <h2>Submit Your Algorithm</h2>
        <div class="login-message">
            <p>Please log in to submit your algorithm to the competition.</p>
            <button class="btn btn-primary" id="loginToSubmitBtn">Login to Submit</button>
        </div>
    </section>

    <!-- Algorithm Submission Section (Only visible after login) -->
    <section class="content-section auth-required" id="submit" style="display: none;">
        <h2>Submit Your Algorithm</h2>
        <p class="section-description">To participate in the competition, please provide information about your team, your algorithm, and upload your paper and implementation files.</p>
        
        <!-- Team Information Section -->
        <div class="submission-section">
            <h3>Team Information</h3>
            <div class="team-info-display">
                <p>Current Team: <span id="currentTeamDisplay">Not Set</span></p>
                <button id="changeTeamBtn" class="btn btn-secondary">Change Team Name</button>
            </div>
            <form id="teamForm" class="submission-form" style="display: none;">
                <div class="form-group">
                    <label for="teamName">Team Name</label>
                    <input type="text" id="teamName" required>
                    <small class="form-hint">3-30 characters, letters, numbers and spaces only</small>
                </div>
                <button type="submit" class="btn btn-primary">Save Team Name</button>
            </form>
        </div>
        
        <!-- Algorithm Submission Form -->
        <form id="algorithmSubmissionForm" class="submission-form">
            <div class="form-group">
                <label for="algorithmName">Algorithm Name</label>
                <input type="text" id="algorithmName" required>
                <small class="form-hint">3-50 characters, letters, numbers and spaces only</small>
            </div>
            
            <div class="form-group">
                <label for="paperSubmissionType">Paper Submission</label>
                <select id="paperSubmissionType" required>
                    <option value="">-- Select Submission Type --</option>
                    <option value="file">Upload Paper File</option>
                    <option value="link">Provide Paper Link</option>
                </select>
            </div>
            
            <div class="form-group" id="paperFileGroup" style="display: none;">
                <label for="paperFile">Paper File (PDF)</label>
                <input type="file" id="paperFile" accept=".pdf">
                <small class="form-hint">Upload your research paper, thesis, or journal article as PDF (max 10MB)</small>
            </div>
            
            <div class="form-group" id="paperLinkGroup" style="display: none;">
                <label for="paperLink">Paper Link</label>
                <input type="url" id="paperLink" placeholder="https://example.com/your-paper">
                <small class="form-hint">Provide a link to your published paper, thesis, or journal article</small>
            </div>
            
            <div class="form-group">
                <label for="algorithmDescription">Algorithm Description</label>
                <textarea id="algorithmDescription" rows="4" required></textarea>
                <small class="form-hint">Briefly describe your algorithm and its advantages (max 500 characters)</small>
            </div>

            <div class="form-group">
                <label for="compressedFile">Algorithm Implementation (.zip)</label>
                <input type="file" id="compressedFile" accept=".zip" required>
                <small class="form-hint">Upload your algorithm implementation as a ZIP file containing all necessary code and documentation</small>
            </div>

            <button type="submit" class="btn btn-primary">Submit Entry</button>
        </form>
    </section>

    <!-- My Submissions (Only visible after login) -->
    <section class="content-section auth-required" id="submissions" style="display: none;">
        <h2>My Submissions</h2>
        <div class="team-progress">
            <h3>Current Team: <span id="currentTeam">Not Set</span></h3>
            <div class="metrics-grid">
                <div class="metric-card">
                    <h3>Highest Score</h3>
                    <div class="metric-value" id="highScore">0</div>
                    <p class="metric-team">Current Team</p>
                </div>
                <div class="metric-card">
                    <h3>Total Submissions</h3>
                    <div class="metric-value" id="totalSubmissions">0</div>
                    <p class="metric-team">Current Team</p>
                </div>
            </div>
        </div>
        <div class="submission-history" id="submissionHistory">
            <!-- Submission history will be populated here -->
        </div>
    </section>
    <hr>

    <!-- Forum Section -->
    <section class="content-section" id="forum">
        <h2>Discussion Forum</h2>
        <div class="forum-container" id="forumContainer">
            <div class="forum-post">
                <h3>Dataset Format Clarification</h3>
                <p>Posted by: User123 | 2 hours ago</p>
                <p>Can someone clarify the expected format for the reconstructed signals?</p>
                <button class="btn btn-primary">Reply</button>
            </div>
            <div class="forum-post">
                <h3>Evaluation Metrics</h3>
                <p>Posted by: Admin | 1 day ago</p>
                <p>Please ensure your submissions meet the evaluation criteria.</p>
                <button class="btn btn-primary">Reply</button>
            </div>
        </div>
    </section>
    <hr>

    <!-- Terms Section -->
    <section class="content-section" id="terms">
        <h2>Terms and Conditions</h2>
        <div class="terms-section">
            <p>By participating in this benchmark, you agree to the following terms:</p>
            <ul>
                <li>Submissions must be original work</li>
                <li>Participants must submit both their algorithm implementation and a research paper</li>
                <li>The organizers reserve the right to disqualify any submission that violates the rules</li>
                <li>Participants must maintain the integrity of the competition</li>
                <li>All submissions will be evaluated based on the specified metrics</li>
            </ul>
        </div>
    </section>

    <script src="scripts.js"></script>
</body>

<div id="authModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <div class="tabs">
            <div class="tab-header">
                <div class="active" id="loginTab">Login</div>
                <div id="registerTab">Register</div>
            </div>
            <div class="tab-content">
                <div class="tab-body active" id="loginContent">
                    <form id="loginForm" class="auth-form">
                        <div class="form-group">
                            <label for="loginEmail">Email</label>
                            <input type="email" id="loginEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Login</button>
                    </form>
                </div>
                <div class="tab-body" id="registerContent">
                    <form id="registerForm" class="auth-form">
                        <div class="form-group">
                            <label for="registerTeamName">Team Name</label>
                            <input type="text" id="registerTeamName" required>
                        </div>
                        <div class="form-group">
                            <label for="registerEmail">Email</label>
                            <input type="email" id="registerEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="registerPassword">Password</label>
                            <input type="password" id="registerPassword" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Confirm Password</label>
                            <input type="password" id="confirmPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Register</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</html>